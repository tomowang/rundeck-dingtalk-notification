version = '3.0.13-20190123'
apply plugin: 'java'
apply plugin: 'idea'
sourceCompatibility = 1.5
ext.rundeckPluginVersion= '1.2'


repositories {
    mavenLocal()
    mavenCentral()
}

dependencies {
    compile( [group: 'org.rundeck', name: 'rundeck-core', version: version, ext:'jar'])
    compile files('libs/taobao-sdk-java-auto_1479188381469-20190124.jar')
}

ext.pluginClassNames='com.tomowang.rundeck.plugins.DingTalkNotificationPlugin'
jar {
    manifest {
        attributes 'Rundeck-Plugin-Classnames': pluginClassNames
        attributes 'Rundeck-Plugin-File-Version': version
        attributes 'Rundeck-Plugin-Version': rundeckPluginVersion
        attributes 'Rundeck-Plugin-Archive': 'true'
        attributes 'Rundeck-Plugin-Libs': 'libs/taobao-sdk-java-auto_1479188381469-20190124.jar'
    }
}

//processResources {
//    from('resources') { into 'resources' }
//}

jar {
    into('libs') {
        from 'libs'
    }
}